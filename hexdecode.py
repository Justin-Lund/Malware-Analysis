"""
Script Name: hexdecode.py
Author: Justin Lund
Date created: 06/06/23
Last modified: 06/06/23
Version: 0.1

Purpose:
Decodes hex

Coming soon:
Switches to either print to screen or output to file

Usage:
python3 hexdecode.py -i hex.txt
"""

import argparse
import binascii

# setup argument parser
parser = argparse.ArgumentParser()
parser.add_argument("-i", "--input", help="Input file containing hex string")
args = parser.parse_args()

# open and read the input file
with open(args.input, 'r') as file:
    hex_string = file.read().replace('\n', '')

# remove unnecessary characters
hex_string = hex_string.replace(",", "").replace("\\", "").replace(" ", "")

# convert hex to bytes
bytes_object = bytes.fromhex(hex_string)

# decode bytes to ASCII
ascii_string = bytes_object.decode("ASCII", errors="ignore")

# print the ASCII string
print(ascii_string)
